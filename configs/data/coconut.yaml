# COCONut dataset configuration
# Extends base COCO config with COCONut-specific captions and masks
#
# Additional folder structure (extends coco.yaml):
# data/coco/
# ├── panoptic_train2017_masks/        # COCONut panoptic masks
# │   ├── 000000000009.png
# │   └── ...
# ├── panoptic_train2017_captions/     # COCONut annotated captions
# │   ├── 000000000009.txt
# │   └── ...
# └── coconut_pancap_50k.tar           # Downloaded archive

defaults:
  - coco  # inherit base COCO paths

# Dataset configuration
dataset:
  _target_: finetune.data.coconut.dataset.COCONutPanCapDataset

# Collator configuration
collator:
  _target_: finetune.data.coconut.collator.train_collate_fn
  # processor will be passed at runtime via partial

eval_collator:
  _target_: finetune.data.coconut.collator.eval_collate_fn
  # processor will be passed at runtime via partial

# COCONut-specific paths
coconut:
  masks_dir: ${..data_dir}/panoptic_train2017_masks
  captions_dir: ${..data_dir}/panoptic_train2017_captions
  ann_file: ${..annotations_dir}/panoptic_train2017.json
  captions_url: https://huggingface.co/datasets/xdeng77/coconut_pancap_50k/resolve/main/coconut_pancap_50k.tar?download=true
  captions_tar_path: ${..data_dir}/coconut_pancap_50k.tar
